<!DOCTYPE html>
<html lang="uk">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>–ö–æ–∑–∞—Ü—å–∫–∞ –ê—Ä–µ–Ω–∞ üá∫üá¶</title>
  <script src="https://telegram.org/js/telegram-web-app.js"></script>
  
  <style>
    * { box-sizing: border-box; margin: 0; padding: 0; }

    html, body {
      background: linear-gradient(180deg, #4A90E2 0%, #FFE44D 100%) !important;
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Arial, sans-serif;
      color: #000 !important;
      min-height: 100vh;
      padding: 10px;
      overflow-x: hidden;
    }

    .container { max-width: 400px; margin: 0 auto; }

    .header {
      text-align: center;
      padding: 15px;
      background: #ffffff !important;
      border-radius: 12px;
      margin-bottom: 10px;
      box-shadow: 0 4px 12px rgba(0,0,0,0.15);
    }

    .header h1 { 
      font-size: 24px; 
      margin-bottom: 10px; 
      color: #000 !important; 
    }

    .resources {
      display: grid;
      grid-template-columns: repeat(2, 1fr);
      gap: 8px;
      font-size: 15px;
      color: #000 !important;
    }

    .resource-item {
      background: #f0f0f0;
      padding: 8px;
      border-radius: 8px;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 5px;
      font-weight: 500;
    }

    .tabs {
      display: flex;
      gap: 5px;
      margin-bottom: 10px;
      overflow-x: auto;
    }

    .tab {
      flex: 1;
      padding: 10px;
      background: #e8e8e8 !important;
      border: none;
      color: #000 !important;
      font-size: 13px;
      border-radius: 8px;
      cursor: pointer;
      white-space: nowrap;
      font-weight: 500;
    }

    .tab.active {
      background: #FFD700 !important;
      font-weight: bold;
    }

    .screen {
      display: none;
      background: #ffffff !important;
      padding: 15px;
      border-radius: 12px;
      min-height: 400px;
      box-shadow: 0 4px 12px rgba(0,0,0,0.15);
    }

    .screen.active { display: block; }

    .location-select {
      display: grid;
      grid-template-columns: repeat(2, 1fr);
      gap: 8px;
      margin-bottom: 12px;
    }

    .location-card {
      background: #f5f5f5;
      padding: 12px;
      border-radius: 10px;
      text-align: center;
      cursor: pointer;
      border: 2px solid transparent;
      transition: all 0.2s;
    }

    .location-card.active {
      border-color: #FFD700;
      background: #FFF8DC;
    }

    .location-card.locked {
      opacity: 0.4;
      cursor: not-allowed;
    }

    .location-icon { font-size: 28px; margin-bottom: 3px; }
    .location-name { font-weight: bold; color: #000 !important; font-size: 13px; }

    .player-hp {
      background: #f5f5f5;
      padding: 10px;
      border-radius: 8px;
      margin-bottom: 12px;
    }

    .player-hp-text {
      text-align: center;
      color: #000 !important;
      font-weight: bold;
      margin-bottom: 5px;
      font-size: 14px;
    }

    .enemy-card {
      background: linear-gradient(135deg, #ff6b6b, #ee5a6f) !important;
      padding: 15px;
      border-radius: 12px;
      text-align: center;
      margin-bottom: 12px;
      position: relative;
      overflow: hidden;
    }

    .enemy-card.shake { animation: shake 0.3s; }

    @keyframes shake {
      0%, 100% { transform: translateX(0); }
      25% { transform: translateX(-5px); }
      75% { transform: translateX(5px); }
    }

    .enemy-image {
      width: 80px;
      height: 80px;
      margin: 0 auto 10px;
      background: rgba(255,255,255,0.2);
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 48px;
    }

    .enemy-name {
      font-size: 20px;
      margin-bottom: 5px;
      color: #fff !important;
      font-weight: bold;
    }

    .enemy-level {
      font-size: 13px;
      color: #ffe0b2 !important;
      margin-bottom: 8px;
    }

    .hp-bar {
      width: 100%;
      height: 18px;
      background: rgba(0,0,0,0.3);
      border-radius: 10px;
      overflow: hidden;
      margin: 8px 0;
      position: relative;
    }

    .hp-fill {
      height: 100%;
      background: linear-gradient(90deg, #4CAF50, #8BC34A);
      transition: width 0.3s ease;
      border-radius: 10px;
    }

    .player-hp .hp-fill {
      background: linear-gradient(90deg, #f44336, #e91e63);
    }

    .hp-text {
      position: absolute;
      width: 100%;
      text-align: center;
      line-height: 18px;
      color: #fff;
      font-weight: bold;
      font-size: 11px;
      text-shadow: 1px 1px 2px rgba(0,0,0,0.5);
    }

    .btn {
      width: 100%;
      padding: 12px;
      font-size: 16px;
      border: none;
      border-radius: 10px;
      cursor: pointer;
      margin-top: 8px;
      font-weight: bold;
      box-shadow: 0 3px 8px rgba(0,0,0,0.2);
      transition: transform 0.1s;
    }

    .btn:active { transform: scale(0.97); }
    .btn:disabled { opacity: 0.5; cursor: not-allowed; }

    .btn-attack {
      background: linear-gradient(135deg, #ff5555, #ff3333) !important;
      color: #fff !important;
    }

    .btn-special {
      background: linear-gradient(135deg, #9C27B0, #7B1FA2) !important;
      color: #fff !important;
    }

    .btn-primary {
      background: linear-gradient(135deg, #FFD700, #FFA000) !important;
      color: #000 !important;
    }

    .btn-success {
      background: linear-gradient(135deg, #4CAF50, #388E3C) !important;
      color: #fff !important;
    }

    .building {
      background: #f5f5f5 !important;
      padding: 12px;
      border-radius: 10px;
      margin-bottom: 10px;
      border: 2px solid #e0e0e0;
    }

    .building-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 6px;
    }

    .building-title {
      font-size: 15px;
      color: #000 !important;
      font-weight: 600;
    }

    .building-level {
      background: #FFD700 !important;
      color: #000 !important;
      padding: 3px 10px;
      border-radius: 12px;
      font-size: 12px;
      font-weight: bold;
    }

    .building-desc {
      font-size: 12px;
      color: #555 !important;
      margin-bottom: 6px;
    }

    .building-cost {
      font-size: 13px;
      margin-bottom: 6px;
      color: #000 !important;
      font-weight: 600;
    }

    .btn-upgrade {
      background: linear-gradient(135deg, #4CAF50, #388E3C) !important;
      color: #fff !important;
      padding: 8px;
      font-size: 14px;
    }

    .quest-item, .shop-item, .achievement, .leaderboard-item {
      background: #f5f5f5;
      padding: 12px;
      border-radius: 10px;
      margin-bottom: 10px;
    }

    .quest-item {
      border-left: 4px solid #FFD700;
    }

    .quest-title, .shop-name, .achievement-name, .leaderboard-name {
      font-weight: bold;
      margin-bottom: 4px;
      color: #000 !important;
    }

    .quest-progress, .shop-desc, .achievement-desc {
      font-size: 12px;
      color: #666 !important;
      margin-bottom: 4px;
    }

    .quest-reward {
      color: #4CAF50 !important;
      font-weight: bold;
      font-size: 12px;
    }

    .shop-item {
      display: flex;
      justify-content: space-between;
      align-items: center;
      cursor: pointer;
      transition: transform 0.2s;
      border: 2px solid #e0e0e0;
    }

    .shop-item:active { transform: scale(0.98); }

    .shop-info { flex: 1; }

    .shop-price {
      background: #FFD700;
      padding: 6px 12px;
      border-radius: 8px;
      font-weight: bold;
      color: #000 !important;
      font-size: 13px;
    }

    .achievement {
      display: flex;
      align-items: center;
      gap: 10px;
      border: 2px solid #e0e0e0;
    }

    .achievement.unlocked {
      background: linear-gradient(135deg, #FFD700, #FFA000);
      border-color: #FFD700;
    }

    .achievement-icon { font-size: 28px; }
    .achievement-info { flex: 1; }

    .leaderboard-item {
      display: flex;
      justify-content: space-between;
      align-items: center;
      border: 2px solid #e0e0e0;
    }

    .leaderboard-rank {
      font-size: 18px;
      font-weight: bold;
      color: #FFD700 !important;
      width: 35px;
    }

    .leaderboard-score {
      font-weight: bold;
      color: #4CAF50 !important;
    }

    .message {
      position: fixed;
      top: 20px;
      left: 50%;
      transform: translateX(-50%);
      background: rgba(0,0,0,0.9) !important;
      color: #FFD700 !important;
      padding: 12px 20px;
      border-radius: 10px;
      font-size: 14px;
      font-weight: bold;
      z-index: 1000;
      animation: slideDown 0.3s ease;
      max-width: 90%;
    }

    @keyframes slideDown {
      from { top: -100px; opacity: 0; }
      to { top: 20px; opacity: 1; }
    }

    .damage-number {
      position: absolute;
      font-size: 22px;
      font-weight: bold;
      color: #fff;
      animation: floatUp 1s ease-out forwards;
      pointer-events: none;
      text-shadow: 2px 2px 4px rgba(0,0,0,0.8);
    }

    .damage-number.crit {
      color: #FFD700;
      font-size: 28px;
      text-shadow: 0 0 10px #FFD700;
    }

    @keyframes floatUp {
      0% { opacity: 1; transform: translateY(0) scale(1); }
      100% { opacity: 0; transform: translateY(-60px) scale(1.2); }
    }

    .skill-tree {
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 10px;
      margin-bottom: 15px;
    }

    .skill-card {
      background: #f5f5f5;
      padding: 10px;
      border-radius: 10px;
      text-align: center;
      border: 2px solid #e0e0e0;
      cursor: pointer;
    }

    .skill-card.unlocked {
      background: linear-gradient(135deg, #4CAF50, #388E3C);
      border-color: #4CAF50;
      color: #fff !important;
    }

    .skill-card.locked {
      opacity: 0.5;
      cursor: not-allowed;
    }

    .skill-icon { font-size: 32px; margin-bottom: 5px; }
    .skill-name { font-size: 12px; font-weight: bold; }

    .inventory-grid {
      display: grid;
      grid-template-columns: repeat(4, 1fr);
      gap: 8px;
      margin-bottom: 15px;
    }

    .inventory-slot {
      aspect-ratio: 1;
      background: #f5f5f5;
      border: 2px solid #e0e0e0;
      border-radius: 8px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 24px;
      cursor: pointer;
      transition: all 0.2s;
    }

    .inventory-slot.filled {
      background: linear-gradient(135deg, #FFD700, #FFA000);
      border-color: #FFD700;
    }

    .inventory-slot:active { transform: scale(0.95); }

    .boss-health {
      background: linear-gradient(135deg, #9C27B0, #7B1FA2);
      padding: 15px;
      border-radius: 12px;
      margin-bottom: 12px;
      color: #fff !important;
    }

    .boss-name {
      font-size: 22px;
      font-weight: bold;
      text-align: center;
      margin-bottom: 8px;
      color: #fff !important;
    }

    .boss-phase {
      text-align: center;
      font-size: 12px;
      color: #E1BEE7 !important;
      margin-bottom: 8px;
    }

    .class-select {
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 10px;
      margin-bottom: 15px;
    }

    .class-card {
      background: #f5f5f5;
      padding: 15px;
      border-radius: 10px;
      text-align: center;
      cursor: pointer;
      border: 3px solid transparent;
      transition: all 0.2s;
    }

    .class-card.selected {
      border-color: #FFD700;
      background: #FFF8DC;
    }

    .class-icon { font-size: 36px; margin-bottom: 5px; }
    .class-name { font-weight: bold; color: #000 !important; font-size: 13px; }
  </style>
</head>
<body>

<div class="container">
  <div class="header">
    <h1>‚öîÔ∏è –ö–æ–∑–∞—Ü—å–∫–∞ –ê—Ä–µ–Ω–∞</h1>
    <div class="resources">
      <div class="resource-item">üèÜ <span id="wins">0</span></div>
      <div class="resource-item">üí∞ <span id="gold">0</span></div>
      <div class="resource-item">‚ö° <span id="energy">10/10</span></div>
      <div class="resource-item">üí™ <span id="power">1</span></div>
    </div>
  </div>

  <div class="tabs">
    <button class="tab active" onclick="switchTab('arena')">‚öîÔ∏è –ê—Ä–µ–Ω–∞</button>
    <button class="tab" onclick="switchTab('class')">üé≠ –ö–ª–∞—Å</button>
    <button class="tab" onclick="switchTab('skills')">üåü –ù–∞–≤–∏—á–∫–∏</button>
    <button class="tab" onclick="switchTab('inventory')">üéí –Ü–Ω–≤–µ–Ω—Ç–∞—Ä</button>
    <button class="tab" onclick="switchTab('city')">üè∞ –ú—ñ—Å—Ç–æ</button>
    <button class="tab" onclick="switchTab('shop')">üõí –ú–∞–≥–∞–∑–∏–Ω</button>
    <button class="tab" onclick="switchTab('quests')">üìú –ö–≤–µ—Å—Ç–∏</button>
    <button class="tab" onclick="switchTab('achievements')">üèÖ –î–æ—Å—è–≥–Ω–µ–Ω–Ω—è</button>
    <button class="tab" onclick="switchTab('leaderboard')">üèÜ –†–µ–π—Ç–∏–Ω–≥</button>
  </div>

  <!-- –ê–†–ï–ù–ê -->
  <div id="arena" class="screen active">
    <div class="location-select" id="locationSelect"></div>

    <div class="player-hp">
      <div class="player-hp-text">‚ù§Ô∏è –í–∞—à–µ –∑–¥–æ—Ä–æ–≤'—è</div>
      <div class="hp-bar">
        <div class="hp-fill" id="playerHpBar" style="width: 100%;"></div>
        <div class="hp-text"><span id="playerHp">100</span>/<span id="playerMaxHp">100</span></div>
      </div>
    </div>

    <div class="enemy-card" id="enemyCard">
      <div class="enemy-image" id="enemyImage">üëπ</div>
      <div class="enemy-name" id="enemyName">–ó–∞–≥–∞—Ä–±–Ω–∏–∫</div>
      <div class="enemy-level" id="enemyLevel">–†—ñ–≤–µ–Ω—å 1</div>
      <div class="hp-bar">
        <div class="hp-fill" id="enemyHpBar" style="width: 100%;"></div>
        <div class="hp-text"><span id="enemyHp">20</span>/<span id="enemyMaxHp">20</span></div>
      </div>
    </div>

    <button class="btn btn-attack" onclick="attack()" id="attackBtn">‚öîÔ∏è –ê—Ç–∞–∫–∞ (<span id="damage">1</span> —à–∫–æ–¥–∏)</button>
    <button class="btn btn-special" onclick="specialAttack()" id="specialBtn">üí• –ö—Ä–∏—Ç—É–¥–∞—Ä (3‚ö°, x3 —É—Ä–æ–Ω)</button>
    <button class="btn btn-success" onclick="usePotion()" id="potionBtn" style="display:none;">üß™ –ó—ñ–ª–ª—è (‚ù§Ô∏è+50)</button>
  </div>

  <!-- –ö–õ–ê–° -->
  <div id="class" class="screen">
    <h3 style="margin-bottom:15px;color:#000;text-align:center;">–û–±–µ—Ä–∏ —Å–≤—ñ–π –∫–ª–∞—Å</h3>
    <div class="class-select" id="classSelect"></div>
    <div style="background:#f5f5f5;padding:15px;border-radius:10px;margin-top:10px;">
      <div style="font-weight:bold;margin-bottom:8px;color:#000;" id="classInfo">–û–±–µ—Ä–∏ –∫–ª–∞—Å —â–æ–± –ø–æ–±–∞—á–∏—Ç–∏ –±–æ–Ω—É—Å–∏</div>
    </div>
  </div>

  <!-- –ù–ê–í–ò–ß–ö–ò -->
  <div id="skills" class="screen">
    <h3 style="margin-bottom:10px;color:#000;">–î–µ—Ä–µ–≤–æ –Ω–∞–≤–∏—á–æ–∫</h3>
    <div style="background:#FFF8DC;padding:10px;border-radius:8px;margin-bottom:12px;font-size:13px;color:#000;">
      üíé –û—á–∫–∏ –Ω–∞–≤–∏—á–æ–∫: <strong id="skillPoints">0</strong>
    </div>
    <div class="skill-tree" id="skillTree"></div>
  </div>

  <!-- –Ü–ù–í–ï–ù–¢–ê–† -->
  <div id="inventory" class="screen">
    <h3 style="margin-bottom:10px;color:#000;">–¢–≤—ñ–π —ñ–Ω–≤–µ–Ω—Ç–∞—Ä</h3>
    <div class="inventory-grid" id="inventoryGrid"></div>
    <div style="background:#f5f5f5;padding:12px;border-radius:10px;">
      <h4 style="margin-bottom:8px;color:#000;">–ï–∫—ñ–ø—ñ—Ä–æ–≤–∫–∞</h4>
      <div style="display:flex;gap:10px;justify-content:space-around;">
        <div style="text-align:center;">
          <div style="font-size:11px;color:#666;margin-bottom:4px;">–ó–±—Ä–æ—è</div>
          <div style="width:60px;height:60px;background:#e0e0e0;border-radius:8px;display:flex;align-items:center;justify-content:center;font-size:32px;" id="weaponSlot">‚öîÔ∏è</div>
        </div>
        <div style="text-align:center;">
          <div style="font-size:11px;color:#666;margin-bottom:4px;">–ë—Ä–æ–Ω—è</div>
          <div style="width:60px;height:60px;background:#e0e0e0;border-radius:8px;display:flex;align-items:center;justify-content:center;font-size:32px;" id="armorSlot">üõ°Ô∏è</div>
        </div>
        <div style="text-align:center;">
          <div style="font-size:11px;color:#666;margin-bottom:4px;">–ê–∫—Å–µ—Å—É–∞—Ä</div>
          <div style="width:60px;height:60px;background:#e0e0e0;border-radius:8px;display:flex;align-items:center;justify-content:center;font-size:32px;" id="accessorySlot">üíç</div>
        </div>
      </div>
    </div>
  </div>

  <!-- –ú–Ü–°–¢–û -->
  <div id="city" class="screen" style="padding:12px;">
    <div id="buildingsList"></div>
  </div>

  <!-- –ú–ê–ì–ê–ó–ò–ù -->
  <div id="shop" class="screen">
    <div id="shopItems"></div>
  </div>

  <!-- –ö–í–ï–°–¢–ò -->
  <div id="quests" class="screen">
    <div id="questsList"></div>
  </div>

  <!-- –î–û–°–Ø–ì–ù–ï–ù–ù–Ø -->
  <div id="achievements" class="screen">
    <div id="achievementsList"></div>
  </div>

  <!-- –†–ï–ô–¢–ò–ù–ì -->
  <div id="leaderboard" class="screen">
    <div id="leaderboardList"></div>
    <button class="btn btn-primary" onclick="loadLeaderboard()" style="margin-top:12px;">üîÑ –û–Ω–æ–≤–∏—Ç–∏</button>
  </div>
</div>

<script src="js/game.js"></script>

</body>
</html>