<!DOCTYPE html>
<html lang="uk" data-theme="light" style="color-scheme: light;">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <!-- БЛОКУВАННЯ ТЕМНОЇ ТЕМИ -->
  <meta name="color-scheme" content="light only">
  <meta name="theme-color" content="#4A90E2">
  <style>
    :root {
      color-scheme: light only !important;
    }
    html, body {
      color-scheme: light !important;
      background: linear-gradient(180deg, #4A90E2 0%, #FFE44D 100%) !important;
    }
  </style>
  
  <title>Козацька Арена 🇺🇦</title>
  <script src="https://telegram.org/js/telegram-web-app.js"></script>
  <link rel="stylesheet" href="css/style.css">
</head>
<body data-theme="light" style="color-scheme: light;">

<div class="container">
  <div class="header">
    <h1>⚔️ Козацька Арена</h1>
    <div class="resources">
      <div class="resource-item">🏆 <span id="wins">0</span></div>
      <div class="resource-item">💰 <span id="gold">0</span></div>
      <div class="resource-item">⚡ <span id="energy">10/10</span></div>
      <div class="resource-item">💪 <span id="power">1</span></div>
    </div>
    <!-- TON гаманець -->
    <div id="walletInfo" style="margin-top:10px;padding:8px;background:rgba(255,255,255,0.3);border-radius:8px;font-size:12px;display:none;">
      💎 TON: <span id="tonBalance">0</span>
    </div>
  </div>

  <div class="tabs">
    <button class="tab active" onclick="switchTab('arena'); return false;">⚔️ Арена</button>
    <button class="tab" onclick="switchTab('pvp'); return false;">👥 PvP</button>
    <button class="tab" onclick="switchTab('class'); return false;">🎭 Клас</button>
    <button class="tab" onclick="switchTab('skills'); return false;">🌟 Навички</button>
    <button class="tab" onclick="switchTab('inventory'); return false;">🎒 Інвентар</button>
    <button class="tab" onclick="switchTab('city'); return false;">🏰 Місто</button>
    <button class="tab" onclick="switchTab('shop'); return false;">🛒 Магазин</button>
    <button class="tab" onclick="switchTab('lootbox'); return false;">🎰 Лутбокс</button>
    <button class="tab" onclick="switchTab('quests'); return false;">📜 Квести</button>
    <button class="tab" onclick="switchTab('achievements'); return false;">🏅 Досягнення</button>
    <button class="tab" onclick="switchTab('leaderboard'); return false;">🏆 Рейтинг</button>
  </div>

  <!-- АРЕНА -->
  <div id="arena" class="screen active">
    <div class="location-select" id="locationSelect"></div>

    <div class="player-hp">
      <div class="player-hp-text">❤️ Ваше здоров'я</div>
      <div class="hp-bar">
        <div class="hp-fill" id="playerHpBar" style="width: 100%;"></div>
        <div class="hp-text"><span id="playerHp">100</span>/<span id="playerMaxHp">100</span></div>
      </div>
    </div>

    <div class="enemy-card" id="enemyCard">
      <div class="enemy-image" id="enemyImage">👹</div>
      <div class="enemy-name" id="enemyName">Загарбник</div>
      <div class="enemy-level" id="enemyLevel">Рівень 1</div>
      <div class="hp-bar">
        <div class="hp-fill" id="enemyHpBar" style="width: 100%;"></div>
        <div class="hp-text"><span id="enemyHp">20</span>/<span id="enemyMaxHp">20</span></div>
      </div>
    </div>

    <button class="btn btn-attack" id="attackBtn" onclick="attack(); return false;">⚔️ Атака (<span id="damage">1</span> шкоди)</button>
    <button class="btn btn-special" id="specialBtn" onclick="specialAttack(); return false;">💥 Критудар (3⚡, x3 урон)</button>
    <button class="btn btn-success" id="potionBtn" style="display:none;" onclick="usePotion(); return false;">🧪 Зілля (❤️+50)</button>
  </div>

  <!-- PVP -->
  <div id="pvp" class="screen">
    <h3 style="margin-bottom:15px;color:#000;text-align:center;">👥 PvP Арена</h3>
    
    <div style="background:rgba(255,255,255,0.9);padding:15px;border-radius:10px;margin-bottom:15px;">
      <div style="font-weight:bold;margin-bottom:10px;color:#000;text-align:center;">Ваш рейтинг PvP: <span id="pvpRating">1000</span></div>
      <div style="font-size:12px;color:#666;text-align:center;">Виграшів: <span id="pvpWins">0</span> | Програшів: <span id="pvpLosses">0</span></div>
    </div>

    <div id="pvpOpponentsList"></div>
    
    <div style="margin-top:15px;padding:15px;background:rgba(255,255,255,0.9);border-radius:10px;">
      <h4 style="margin-bottom:10px;color:#000;">📊 Нагороди за PvP</h4>
      <div style="font-size:13px;color:#666;">
        🥇 Перемога: +50💰, +10 рейтингу<br>
        🥈 Програш: -5 рейтингу<br>
        🏆 Топ-10: Особливі нагороди щотижня
      </div>
    </div>
  </div>

  <!-- ЛУТБОКС -->
  <div id="lootbox" class="screen">
    <h3 style="margin-bottom:15px;color:#000;text-align:center;">🎰 Лутбокси</h3>
    
    <div style="background:rgba(255,255,255,0.9);padding:15px;border-radius:10px;margin-bottom:15px;text-align:center;">
      <div style="font-size:14px;color:#666;margin-bottom:10px;">Відкрито лутбоксів: <span id="lootboxesOpened">0</span></div>
    </div>

    <div id="lootboxList"></div>
  </div>

  <!-- КЛАС -->
  <div id="class" class="screen">
    <h3 style="margin-bottom:15px;color:#000;text-align:center;">Обери свій клас</h3>
    <div class="class-select" id="classSelect"></div>
    <div style="background:#f5f5f5;padding:15px;border-radius:10px;margin-top:10px;">
      <div style="font-weight:bold;margin-bottom:8px;color:#000;" id="classInfo">Обери клас щоб побачити бонуси</div>
    </div>
  </div>

  <!-- НАВИЧКИ -->
  <div id="skills" class="screen">
    <h3 style="margin-bottom:10px;color:#000;">Дерево навичок</h3>
    <div style="background:#FFF8DC;padding:10px;border-radius:8px;margin-bottom:12px;font-size:13px;color:#000;">
      💎 Очки навичок: <strong id="skillPoints">0</strong>
    </div>
    <div class="skill-tree" id="skillTree"></div>
  </div>

  <!-- ІНВЕНТАР -->
  <div id="inventory" class="screen">
    <h3 style="margin-bottom:10px;color:#000;">Твій інвентар</h3>
    <div class="inventory-grid" id="inventoryGrid"></div>
    <div style="background:#f5f5f5;padding:12px;border-radius:10px;">
      <h4 style="margin-bottom:8px;color:#000;">Екіпіровка</h4>
      <div style="display:flex;gap:10px;justify-content:space-around;">
        <div style="text-align:center;">
          <div style="font-size:11px;color:#666;margin-bottom:4px;">Зброя</div>
          <div style="width:60px;height:60px;background:#e0e0e0;border-radius:8px;display:flex;align-items:center;justify-content:center;font-size:32px;" id="weaponSlot">⚔️</div>
        </div>
        <div style="text-align:center;">
          <div style="font-size:11px;color:#666;margin-bottom:4px;">Броня</div>
          <div style="width:60px;height:60px;background:#e0e0e0;border-radius:8px;display:flex;align-items:center;justify-content:center;font-size:32px;" id="armorSlot">🛡️</div>
        </div>
        <div style="text-align:center;">
          <div style="font-size:11px;color:#666;margin-bottom:4px;">Аксесуар</div>
          <div style="width:60px;height:60px;background:#e0e0e0;border-radius:8px;display:flex;align-items:center;justify-content:center;font-size:32px;" id="accessorySlot">💍</div>
        </div>
      </div>
    </div>
  </div>

  <!-- МІСТО -->
  <div id="city" class="screen">
    <div id="buildingsList"></div>
  </div>

  <!-- МАГАЗИН -->
  <div id="shop" class="screen">
    <div id="shopItems"></div>
  </div>

  <!-- КВЕСТИ -->
  <div id="quests" class="screen">
    <div id="questsList"></div>
  </div>

  <!-- ДОСЯГНЕННЯ -->
  <div id="achievements" class="screen">
    <div id="achievementsList"></div>
  </div>

  <!-- РЕЙТИНГ -->
  <div id="leaderboard" class="screen">
    <div class="tabs" style="margin-bottom:10px;">
      <button class="tab active" onclick="switchLeaderboardTab('wins'); return false;">🏆 По перемогах</button>
      <button class="tab" onclick="switchLeaderboardTab('gold'); return false;">💰 По золоту</button>
      <button class="tab" onclick="switchLeaderboardTab('pvp'); return false;">⚔️ PvP рейтинг</button>
    </div>
    <div id="leaderboardList"></div>
    <button class="btn btn-primary" onclick="loadLeaderboard(); return false;" style="margin-top:12px;">🔄 Оновити</button>
  </div>
</div>

<!-- Аудіо елементи (приховані) -->
<audio id="soundAttack" preload="auto">
  <source src="data:audio/wav;base64,UklGRnoGAABXQVZFZm10IBAAAAABAAEAQB8AAEAfAAABAAgAZGF0YQoGAACBhYqFbF1fdJivrJBhNjVgodDbq2EcBj+a2/LDciUFLIHO8tiJNwgZaLvt559NEAxQp+PwtmMcBjiR1/LMeSwFJHfH8N2QQAoUXrTp66hVFApGnOTyvmwhBTGH0fPTgjMGHm7A7+OZURMMS6Ln8bllGwU7k9n0yoExBSV9y/HZizYGGGm98eyeUQ8MUqjn8blnHAU5l9z0x3srBSp/zvHajjkGF2u+8OmXTxAMUKfk8L1oHgU7k9r0yoEvBSKAzPDajzgHF2m77u2aURALT6Xl8LxnHQU7k9r0yoEvBSJ/zPDajzgHF2m97uybURALTqXl8LxnHgU5k9r0y4EvBSJ/y/DajzgHF2m97uybURALTqXl8L1nHgU5k9n0y4EvBSJ/y/DajzgHF2m97uybURALTqXl8L1nHgU5k9n0y4EvBSF/y/DajzgHF2m97uybURALTqXl8L1nHgU5k9n0y4EvBSF/y/DajzgHF2m97uybURALTqXl8L1nHgU5k9n0y4EvBSF/y/DajzgHF2m97uybURALTqXl8L1nHgU5k9n0y4EvBSF/y/DajzgHF2m97uybURALTqXl8L1nHgU5k9n0y4EvBSF/y/DajzgHF2m97uybURALTqXl8L1nHgU5k9n0y4EvBSF/y/DajzgHF2m97uybURALTqXl8L1nHgU5k9n0y4EvBSF/y/DajzgHF2m97uybURALTqXl8L1nHgU5k9n0y4EvBSF/y/DajzgHF2m97uybURALTqXl8L1nHgU5k9n0y4EvBSF/y/DajzgHF2m97uybURALTqXl8L1nHgU5k9n0y4EvBSF/y/DajzgHF2m97uybURALTqXl8L1nHgU5k9n0y4EvBSF/y/DajzgHF2m97uybURALTqXl8L1nHgU5k9n0y4EvBSF/y/DajzgHF2m97uybURALTqXl8L1nHgU5k9n0y4EvBSF/y/DajzgHF2m97uybURALTqXl8L1nHgU5k9n0y4EvBSF/y/DajzgHF2m97uybURALTqXl8L1nHgU5k9n0y4EvBSF/y/DajzgHF2m97uybURALTqXl8L1nHgU5k9n0y4EvBSF/y/DajzgHF2m97uybURALTqXl8L1nHgU5k9n0y4EvBSF/y/DajzgHF2m97uybURALTqXl8L1nHgU5k9n0y4EvBSF/y/DajzgHF2m97uybURALTqXl8L1nHgU5k9n0y4EvBSF/y/DajzgHF2m97uybURALTqXl8L1nHgU5k9n0y4EvBSF/y/Dajz" type="audio/wav">
</audio>
<audio id="soundVictory" preload="auto"></audio>
<audio id="soundDefeat" preload="auto"></audio>

<script src="js/game.js"></script>

</body>
</html>